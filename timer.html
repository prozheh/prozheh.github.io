<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Neon Timer + Manual Study Chart</title>

<style>
:root{--blue:#00cfff;}
body{
  margin:0;min-height:100vh;background:#000;
  display:flex;justify-content:center;align-items:center;
  font-family:Segoe UI,sans-serif;color:#fff;direction:rtl;
}
.dashboard{display:flex;gap:40px;align-items:center;}
@media(max-width:768px){.dashboard{flex-direction:column;}}

/* ===== Mini Study ===== */
.mini-study{
  width:220px;background:#0b0b0b;border-radius:18px;
  padding:14px;box-shadow:0 0 30px rgba(0,207,255,.25);
}
.mini-study h3{
  margin:0 0 12px;font-size:14px;text-align:center;color:var(--blue);
}
.mini-bars{display:flex;align-items:flex-end;height:120px;gap:5px;}
.mini-bar{
  flex:1;background:linear-gradient(180deg,#00cfff,#006a88);
  border-radius:6px 6px 0 0;transition:.3s;
}
.mini-bar.zero{background:#222;}
.mini-total{margin-top:10px;font-size:13px;text-align:center;opacity:.9;}
.study-controls{margin-top:12px;display:flex;gap:6px;}
select,button{
  flex:1;padding:8px;border:none;border-radius:10px;font-size:13px;
}
button{background:var(--blue);font-weight:600;cursor:pointer;}

/* ===== Timer ===== */
.circle-container{position:relative;width:min(90vw,500px);height:min(90vw,500px);}
svg{width:100%;height:100%;transform:rotate(-90deg);}
.bg-circle{fill:#000;stroke:#111;stroke-width:18;}
.progress-circle{
  fill:none;stroke:var(--blue);stroke-width:18;
  stroke-linecap:round;filter:drop-shadow(0 0 15px var(--blue));
}
.center{
  position:absolute;inset:0;display:flex;
  flex-direction:column;align-items:center;justify-content:center;gap:18px;
}
.time{
  background:linear-gradient(135deg,#ff9800,#ffb74d);
  color:#000;padding:14px 36px;border-radius:14px;
  font-size:26px;font-weight:700;
}
.buttons{display:flex;gap:12px;}
.timer-btn{
  padding:12px 30px;border:none;border-radius:26px;
  font-size:15px;font-weight:600;cursor:pointer;
}
.start{background:var(--blue);}
.stop{background:#ffc107;}
.reset{background:#ff5252;}
</style>
</head>

<body>

<div class="dashboard">

<!-- ğŸ“Š Mini Study -->
<div class="mini-study">
  <h3>ğŸ“Š Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù‡ÙØªÚ¯ÛŒ</h3>
  <div class="mini-bars" id="miniChart"></div>
  <div class="mini-total" id="miniTotal">Û° Ø³Ø§Ø¹Øª</div>

  <div class="study-controls">
    <select id="day">
      <option value="0">Ø´Ù†Ø¨Ù‡</option>
      <option value="1">ÛŒÚ©Ø´Ù†Ø¨Ù‡</option>
      <option value="2">Ø¯ÙˆØ´Ù†Ø¨Ù‡</option>
      <option value="3">Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡</option>
      <option value="4">Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡</option>
      <option value="5">Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡</option>
      <option value="6">Ø¬Ù…Ø¹Ù‡</option>
    </select>

    <select id="hour">
      <option value="0">Û° Ø³Ø§Ø¹Øª</option>
      <option value="1">Û±</option>
      <option value="2">Û²</option>
      <option value="3">Û³</option>
      <option value="4">Û´</option>
      <option value="5">Ûµ</option>
      <option value="6">Û¶</option>
      <option value="7">Û·</option>
      <option value="8">Û¸</option>
      <option value="9">Û¹</option>
      <option value="10">Û±Û°</option>
      <option value="11">Û±Û±</option>
      <option value="12">Û±Û²</option>
    </select>

    <select id="minute">
      <option value="0">Û° Ø¯Ù‚ÛŒÙ‚Ù‡</option>
      <option value="15">Û±Ûµ</option>
      <option value="30">Û³Û°</option>
      <option value="45">Û´Ûµ</option>
    </select>

    <button onclick="addStudy()">Ø«Ø¨Øª</button>
  </div>
</div>

<!-- â± Timer -->
<div class="circle-container">
  <svg viewBox="0 0 520 520">
    <circle class="bg-circle" cx="260" cy="260" r="210"/>
    <circle class="progress-circle" cx="260" cy="260" r="210"/>
  </svg>

  <div class="center">
    <div class="time" id="time">00:00:00</div>
    <div class="buttons" id="btns">
      <button class="timer-btn start" id="startBtn">Start</button>
    </div>
  </div>
</div>

</div>

<script>
/* ===== Mini Study ===== */
let week=[0,0,0,0,0,0,0];
const miniChart=document.getElementById("miniChart");
const miniTotal=document.getElementById("miniTotal");
const daySelect=document.getElementById("day");
const hourSelect=document.getElementById("hour");
const minuteSelect=document.getElementById("minute");

function renderChart(){
  miniChart.innerHTML="";
  let totalMinutes=0;

  week.forEach(h=>{
    totalMinutes+=h*60;
    const b=document.createElement("div");
    b.className="mini-bar"+(h===0?" zero":"");
    b.style.height=(h/12*100)+"%";
    miniChart.appendChild(b);
  });

  const H=Math.floor(totalMinutes/60);
  const M=totalMinutes%60;
  miniTotal.textContent=`${H} Ø³Ø§Ø¹Øª Ùˆ ${M} Ø¯Ù‚ÛŒÙ‚Ù‡`;
}

function addStudy(){
  const d=Number(daySelect.value);
  const h=Number(hourSelect.value);
  const m=Number(minuteSelect.value);
  week[d]=h+(m/60);
  renderChart();
}

renderChart();

/* ===== Timer ===== */
const timeBox=document.getElementById("time");
const btns=document.getElementById("btns");
const circle=document.querySelector(".progress-circle");

let seconds=0,timer=null,paused=false;
const r=210,c=2*Math.PI*r;
circle.style.strokeDasharray=c;
circle.style.strokeDashoffset=c;

function format(s){
  const h=String(Math.floor(s/3600)).padStart(2,"0");
  const m=String(Math.floor((s%3600)/60)).padStart(2,"0");
  const sec=String(s%60).padStart(2,"0");
  return `${h}:${m}:${sec}`;
}

document.getElementById("startBtn").onclick=()=>{
  btns.innerHTML=`
    <button class="timer-btn reset" id="resetBtn">Reset</button>
    <button class="timer-btn stop" id="stopBtn">Stop</button>`;

  timer=setInterval(()=>{
    if(!paused){
      seconds++;
      timeBox.textContent=format(seconds);
      circle.style.strokeDashoffset=c*(1-(seconds%60)/60);
    }
  },1000);

  document.getElementById("resetBtn").onclick=()=>{
    clearInterval(timer);
    seconds=0;paused=false;
    timeBox.textContent="00:00:00";
    circle.style.strokeDashoffset=c;
    btns.innerHTML=`<button class="timer-btn start" id="startBtn">Start</button>`;
    document.getElementById("startBtn").onclick=arguments.callee;
  };

  document.getElementById("stopBtn").onclick=()=>{
    paused=!paused;
    document.getElementById("stopBtn").textContent=
      paused?"Resume":"Stop";
  };
};
</script>

</body>
</html>
